
<!doctype html>
	<html lang="en">
		<head>
			<meta charset="utf-8">
			<title>URI.im - Another URL Shortener</title>
                        <link href="favicon.ico" rel="icon" type="image/x-icon"/>
                        <link href="http://fonts.googleapis.com/css?family=Spicy+Rice" rel="stylesheet" type="text/css">
                        <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet" type="text/css">
		</head>
		<body>
			<h1 style="font-family: 'Spicy Rice', cursive;color:#0095ef;text-align:center;font-size:4em;">URI.im</h1>
			<h4 style="color:#666; text-align:center;font-family: 'Source Sans Pro',sans-serif;
font-weight: 300;">Another URL Shortener</h4>
			<form action="http://uri.im/api/v1" method="get" name="uriform" id="uriform">
				<input type="text" name="u" id="u" required placeholder="Enter your URL">
				<input type="text" name="key" id="key" placeholder="Custom Key">				
				<input type="submit" value="Generate" id="urigen">
			</form>
			
			<div id="result"></div>
			<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
			<script>
				$('#key').bind('keypress', function (event) {
				    var regex = new RegExp("^[a-zA-Z0-9]+$");
				    var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
				    if (!regex.test(key)) {
				       event.preventDefault();
				       return false;
				    }
				});			
				$("#uriform").submit(function(e)
				{

					e.preventDefault();

					var u = $("#u").val();
					var k = $("#key").val();
	
					$.ajax({
					    type: 'GET',
					    url: 'http://uri.im/api/v1',
					    crossDomain: true,
					    data: 'u='+u+'&key='+k,
					    dataType: 'text',
					    success: function(r, t, j) 
					    {
					        $("#result").html("<h2><a  target='_blank' href='"+r+"'>"+r+"</a></h2>");
					    },
					    error: function (r, t, e) 
					    {
					     	$("#result").html("<h2>"+r.responseText+"</h2>");	   
					    }
					});	
				});		
			</script>
		</body>
</html>
